"0","rm(list = ls())"
"0",""
"0","# Re-read my data:"
"0","moths = read.csv(here(""data"", ""moths.csv""))"
"0","moth_dat = moths[,-1]"
"0",""
"0","rarefaction_sampler = function(input_dat, n_iterations)"
"0","{"
"0","  n_input_rows = nrow(input_dat)"
"0",""
"0","  results_out = matrix("
"0","    nrow = n_iterations,"
"0","    ncol = n_input_rows)"
"0",""
"0","  # The outer loop: runs once for each bootstrap iteration.  index variable is i"
"0","  for(i in 1:n_iterations)"
"0","  {"
"0","    # The inner loop: simulates increasing sampling intensity"
"0","    # Sampling intensity ranges from 1 site to the complete count of"
"0","    # sites in the input data (n)"
"0","    for(j in 1:n_input_rows)"
"0","    {"
"0","      # sample the input data row indices, with replacement"
"0","      rows_j = sample(n_input_rows, size = j, replace=TRUE)"
"0",""
"0","      # Creates a new data matrix"
"0","      t1 = input_dat[rows_j, ]"
"0",""
"0","      # Calculates the column sums"
"0","      t2 = apply(t1, 2, sum)"
"0",""
"0","      # Counts the number of columns in which any moths were observed"
"0","      results_out[i, j] = sum(t2 > 0)"
"0","    }"
"0","  }"
"0","  return(results_out)"
"0","}"
"0",""
"0","rarefact = rarefaction_sampler(moth_dat, 100)"
"0","rarefact"
"1","      "
"1"," [,1]"
"1"," [,2]"
"1"," [,3]"
"1"," [,4]"
"1"," [,5]"
"1"," [,6]"
"1"," [,7]"
"1","
  [1,]"
"1","    2"
"1","    7"
"1","    8"
"1","    7"
"1","    9"
"1","    9"
"1","   10"
"1","
  [2,]"
"1","    6"
"1","    6"
"1","    6"
"1","    8"
"1","    8"
"1","    7"
"1","   10"
"1","
  [3,]"
"1","    8"
"1","    8"
"1","    8"
"1","    8"
"1","    9"
"1","    9"
"1","   10"
"1","
  [4,]"
"1","    6"
"1","    5"
"1","    8"
"1","    7"
"1","    9"
"1","    8"
"1","    8"
"1","
  [5,]"
"1","    6"
"1","    6"
"1","    9"
"1","   10"
"1","    9"
"1","   10"
"1","   10"
"1","
  [6,]"
"1","    5"
"1","    6"
"1","    8"
"1","    9"
"1","    7"
"1","    8"
"1","    9"
"1","
  [7,]"
"1","    3"
"1","    8"
"1","    9"
"1","    8"
"1","    6"
"1","    9"
"1","    8"
"1","
  [8,]"
"1","    8"
"1","    5"
"1","    8"
"1","    8"
"1","    8"
"1","    9"
"1","   10"
"1","
  [9,]"
"1","    2"
"1","    8"
"1","    8"
"1","    9"
"1","    9"
"1","   10"
"1","   10"
"1","
 [10,]"
"1","    6"
"1","    9"
"1","    9"
"1","    8"
"1","    9"
"1","   10"
"1","    8"
"1","
 [11,]"
"1","    2"
"1","    6"
"1","    7"
"1","    8"
"1","    8"
"1","    9"
"1","    9"
"1","
 [12,]"
"1","    2"
"1","    3"
"1","    6"
"1","    8"
"1","    8"
"1","    9"
"1","   10"
"1","
 [13,]"
"1","    6"
"1","    6"
"1","    4"
"1","    9"
"1","    8"
"1","   10"
"1","    9"
"1","
 [14,]"
"1","    4"
"1","    8"
"1","    8"
"1","    9"
"1","   10"
"1","    9"
"1","   10"
"1","
 [15,]"
"1","    2"
"1","    4"
"1","   10"
"1","    8"
"1","    9"
"1","    9"
"1","   10"
"1","
 [16,]"
"1","    3"
"1","    7"
"1","    8"
"1","    9"
"1","    9"
"1","   10"
"1","   10"
"1","
 [17,]"
"1","    4"
"1","    5"
"1","    7"
"1","    8"
"1","    8"
"1","    9"
"1","   10"
"1","
 [18,]"
"1","    2"
"1","    3"
"1","    9"
"1","    8"
"1","    9"
"1","   10"
"1","    8"
"1","
 [19,]"
"1","    2"
"1","    6"
"1","    9"
"1","    9"
"1","   10"
"1","    9"
"1","    8"
"1","
 [20,]"
"1","    6"
"1","    8"
"1","    6"
"1","    8"
"1","    8"
"1","   10"
"1","    9"
"1","
 [21,]"
"1","    2"
"1","    6"
"1","   10"
"1","    8"
"1","    6"
"1","    9"
"1","   10"
"1","
 [22,]"
"1","    4"
"1","    8"
"1","    9"
"1","    8"
"1","    9"
"1","    9"
"1","   10"
"1","
 [23,]"
"1","    7"
"1","    8"
"1","    5"
"1","   10"
"1","    9"
"1","    9"
"1","   10"
"1","
 [24,]"
"1","    8"
"1","    6"
"1","    6"
"1","    9"
"1","   10"
"1","    9"
"1","   10"
"1","
 [25,]"
"1","    4"
"1","    8"
"1","    9"
"1","    8"
"1","    9"
"1","   10"
"1","    8"
"1","
 [26,]"
"1","    8"
"1","    3"
"1","    8"
"1","    9"
"1","   10"
"1","    9"
"1","   10"
"1","
 [27,]"
"1","    2"
"1","    3"
"1","    8"
"1","    8"
"1","    9"
"1","    9"
"1","    8"
"1","
 [28,]"
"1","    2"
"1","    8"
"1","    8"
"1","   10"
"1","    7"
"1","    9"
"1","    9"
"1","
 [29,]"
"1","    3"
"1","    8"
"1","    8"
"1","   10"
"1","    8"
"1","    7"
"1","    8"
"1","
 [30,]"
"1","    4"
"1","    6"
"1","    8"
"1","    6"
"1","   10"
"1","   10"
"1","   10"
"1","
 [31,]"
"1","    3"
"1","    8"
"1","    9"
"1","   10"
"1","    9"
"1","    8"
"1","   10"
"1","
 [32,]"
"1","    6"
"1","    5"
"1","    7"
"1","    8"
"1","    9"
"1","    7"
"1","    8"
"1","
 [33,]"
"1","    8"
"1","    8"
"1","    9"
"1","    7"
"1","    7"
"1","    8"
"1","    9"
"1","
 [34,]"
"1","    3"
"1","    7"
"1","    7"
"1","    7"
"1","    9"
"1","    7"
"1","   10"
"1","
 [35,]"
"1","    6"
"1","    8"
"1","    7"
"1","    7"
"1","   10"
"1","    9"
"1","    9"
"1","
 [36,]"
"1","    3"
"1","    8"
"1","    6"
"1","    9"
"1","    8"
"1","   10"
"1","   10"
"1","
 [37,]"
"1","    6"
"1","    8"
"1","   10"
"1","   10"
"1","    5"
"1","    9"
"1","   10"
"1","
 [38,]"
"1","    7"
"1","    5"
"1","   10"
"1","    7"
"1","   10"
"1","    8"
"1","    7"
"1","
 [39,]"
"1","    4"
"1","    8"
"1","    8"
"1","    9"
"1","   10"
"1","    8"
"1","    9"
"1","
 [40,]"
"1","    3"
"1","    6"
"1","    6"
"1","    7"
"1","    9"
"1","    9"
"1","    9"
"1","
 [41,]"
"1","    6"
"1","    4"
"1","    9"
"1","   10"
"1","    9"
"1","   10"
"1","    9"
"1","
"
"1","      "
"1"," [,8]"
"1"," [,9]"
"1"," [,10]"
"1"," [,11]"
"1"," [,12]"
"1"," [,13]"
"1","
  [1,]"
"1","   10"
"1","   10"
"1","     9"
"1","    10"
"1","    10"
"1","    10"
"1","
  [2,]"
"1","   10"
"1","   10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
  [3,]"
"1","   10"
"1","    9"
"1","    10"
"1","    10"
"1","    10"
"1","     8"
"1","
  [4,]"
"1","    9"
"1","   10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
  [5,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","
  [6,]"
"1","    8"
"1","    9"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
  [7,]"
"1","    9"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [8,]"
"1","    9"
"1","   10"
"1","    10"
"1","     9"
"1","     8"
"1","    10"
"1","
  [9,]"
"1","   10"
"1","   10"
"1","     9"
"1","    10"
"1","    10"
"1","    10"
"1","
 [10,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [11,]"
"1","    8"
"1","   10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
 [12,]"
"1","   10"
"1","   10"
"1","     9"
"1","    10"
"1","     9"
"1","     9"
"1","
 [13,]"
"1","    8"
"1","   10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
 [14,]"
"1","    9"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [15,]"
"1","   10"
"1","    8"
"1","    10"
"1","    10"
"1","     8"
"1","    10"
"1","
 [16,]"
"1","   10"
"1","    9"
"1","     9"
"1","    10"
"1","     9"
"1","    10"
"1","
 [17,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [18,]"
"1","    8"
"1","    9"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [19,]"
"1","    9"
"1","   10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
 [20,]"
"1","    9"
"1","   10"
"1","     8"
"1","    10"
"1","    10"
"1","    10"
"1","
 [21,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [22,]"
"1","    9"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [23,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [24,]"
"1","   10"
"1","   10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
 [25,]"
"1","   10"
"1","    9"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [26,]"
"1","    8"
"1","    9"
"1","    10"
"1","     9"
"1","    10"
"1","     8"
"1","
 [27,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [28,]"
"1","   10"
"1","   10"
"1","     8"
"1","    10"
"1","    10"
"1","    10"
"1","
 [29,]"
"1","   10"
"1","    9"
"1","     8"
"1","    10"
"1","    10"
"1","    10"
"1","
 [30,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [31,]"
"1","   10"
"1","   10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
 [32,]"
"1","    9"
"1","   10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
 [33,]"
"1","   10"
"1","   10"
"1","     9"
"1","     9"
"1","     9"
"1","    10"
"1","
 [34,]"
"1","    9"
"1","    8"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [35,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","     8"
"1","
 [36,]"
"1","    9"
"1","    9"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [37,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","
 [38,]"
"1","   10"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [39,]"
"1","   10"
"1","   10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
 [40,]"
"1","    8"
"1","   10"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","
 [41,]"
"1","   10"
"1","    9"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","
"
"1","      "
"1"," [,14]"
"1"," [,15]"
"1"," [,16]"
"1"," [,17]"
"1"," [,18]"
"1"," [,19]"
"1","
  [1,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [2,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [3,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [4,]"
"1","     9"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
  [5,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [6,]"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
  [7,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [8,]"
"1","    10"
"1","     9"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
  [9,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [10,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [11,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","
 [12,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [13,]"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [14,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [15,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [16,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [17,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [18,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [19,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [20,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [21,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [22,]"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
 [23,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
 [24,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [25,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [26,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [27,]"
"1","    10"
"1","    10"
"1","     9"
"1","     9"
"1","    10"
"1","    10"
"1","
 [28,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [29,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [30,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [31,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [32,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [33,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [34,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
 [35,]"
"1","     8"
"1","    10"
"1","    10"
"1","    10"
"1","     8"
"1","    10"
"1","
 [36,]"
"1","     9"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [37,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [38,]"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [39,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [40,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [41,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
"
"1","      "
"1"," [,20]"
"1"," [,21]"
"1"," [,22]"
"1"," [,23]"
"1"," [,24]"
"1","
  [1,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [2,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [3,]"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
  [4,]"
"1","     9"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [5,]"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
  [6,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [7,]"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
  [8,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
  [9,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [10,]"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","    10"
"1","
 [11,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [12,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","
 [13,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [14,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [15,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [16,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [17,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [18,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","
 [19,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [20,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [21,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [22,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [23,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [24,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [25,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [26,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [27,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [28,]"
"1","     9"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [29,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [30,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [31,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [32,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [33,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [34,]"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","
 [35,]"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","    10"
"1","
 [36,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [37,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [38,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [39,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","     9"
"1","
 [40,]"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","    10"
"1","
 [41,]"
"1","    10"
"1","    10"
"1","     9"
"1","    10"
"1","    10"
"1","
"
"1"," [ reached getOption(""max.print"") -- omitted 59 rows ]
"
