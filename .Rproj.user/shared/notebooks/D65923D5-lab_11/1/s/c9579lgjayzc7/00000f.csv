"0","alpha = 0.05"
"0","n_sims = 1000"
"0","p_vals = numeric(n_sims)"
"0",""
"0","n_effect_sizes = 20"
"0","effect_sizes_1 = seq(-.01, .01, length.out = n_effect_sizes)"
"0",""
"0","effect_size_powers = numeric(n_effect_sizes)"
"0",""
"0","for(j in 1:n_effect_sizes)"
"0","{"
"0","  for(i in 1:n_sims)"
"0","  {"
"0","    fit_sim = linear_sim_fit("
"0","      x = birdhab$ls,"
"0","      y_int = int_obs,"
"0","      slope = effect_sizes_1[j],"
"0","      st_dev = sd_obs"
"0","    )"
"0","    "
"0","    p_vals[i] = summary(fit_sim)$coefficients[2, 'Pr(>|t|)']"
"0","  }"
"0","  effect_size_powers[j] = sum(p_vals < alpha) / n_sims"
"0","}"
"0",""
"0","sim_effect_size = "
"0","  data.frame("
"0","    effect_size = effect_sizes_1,"
"0","    power       = effect_size_powers)"
